{% extends 'layout.html' %}

{% block body %}

<div class="board_area">

    <div class="enunciados">
        <div class="enunciado">
            {% include 'ejercicios/%s/%d.html' % (tema, num_ej) %}
            {% if num_ej  >= ejs_tema %}
                <form action="{{ url_for('form',tema = tema, num_ej = 1) }}">
                    <input id="siguiente" type="submit" value="Siguiente" />
                </form>
            {% else %}
            <form action="{{ url_for('form',tema = tema, num_ej = num_ej + 1) }}">
                    <input id="siguiente" type="submit" value="Siguiente" />
            </form>
            {% endif %}
        </div>
    </div>

    <div class="code-editor">
        <form method="POST" action="{{ url_for('form',tema = tema, num_ej = num_ej) }}">
            <textarea name="editor" id="editor">{{form.editor.data}}</textarea>
            <script>
                var editor = CodeMirror.fromTextArea(document.getElementById('editor'), {
                    mode: 'python',
                    theme: 'dracula',
                    lineNumbers: 'true'
                });
                editor.setSize("100%", "90%");
            </script>

            {{ form.submit }}
            <input id="submit" name="submit" type="submit" value="Print">
        </form>
        <textarea class='terminal' name="result" id="result" cols="30" rows="10" readonly>
            {{result}}
        </textarea>
    </div>


</div>

{% endblock %}
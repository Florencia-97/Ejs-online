{% extends 'layout.html' %}

{% block body %}

<div class="board_area">

    <div class="enunciados">
        <div class="enunciado">
            {% include 'ejercicios/%s/%s.html' % (tema, ej) %}
            <form action="{{ url_for('form',tema = tema, ej = prox_ej) }}">
                <input id="siguiente" type="submit" value="Siguiente" />
            </form>
        </div>
    </div>

    <div class="code-editor">
        <form method="POST" action="{{ url_for('form',tema = tema, ej = ej) }}">
            <textarea name="editor" id="editor">{{form.editor.data}}</textarea>
            <script>

                function betterTab(cm) {
                    if (cm.somethingSelected()) {
                        cm.indentSelection("add");}
                    else {
                        cm.replaceSelection(cm.getOption("indentWithTabs")? "\t":
                        Array(cm.getOption("indentUnit") + 1).join(" "), "end", "+input");
                    }
                }

                var editor = CodeMirror.fromTextArea(document.getElementById('editor'), {
                    mode: 'python',
                    theme: 'dracula',
                    lineNumbers: 'true',
                    extraKeys: { Tab: betterTab }
                });
                editor.setSize("100%", "90%");
            </script>

            {{ form.submit }}
            <input id="submit" name="submit" type="submit" value="Print">
        </form>
        <textarea class='terminal' name="result" id="result" cols="30" rows="10" readonly>
            {{result}}
        </textarea>
    </div>


</div>

{% endblock %}